<!DOCTYPE html>
<html>
<head>
	<title>Testing AXE compatibility with preload</title>
	<script type="text/javascript" src="../js/axe.js"></script>
	<script type="text/javascript" src="../js/axe-easy.js"></script>
	<script type="text/javascript" src="../js/axe-html.js"></script>
	<style type="text/css">
		#cssloading.display {
			animation: fade .5s infinite;
		}
		@keyframes fade {
			from {opacity: 1;}
			to {opacity: 0;}
		}
	</style>
	<script type="text/javascript">
		window.addEventListener('load', function(){
			ctrl = document.querySelector('#cssloading');
			ctrl.classList.toggle('display');
		});
	</script>
</head>
<body>
	<div id="cssloading" class="display">
		CSS-LOADING
	</div>
	<div id="loader"
		axe-easy="flash"
		axe-i='infinite' 
		axe-preload
	>
		<div axe-easy="shake" axe-i='infinite' axe-momen='start,animationstart,#loader; end,animationcancel,#loader;'>
			LOADING
		</div>
	</div>
	<script type="text/javascript">
		document.addEventListener('DOMContentLoaded', function(){
			for (var i = 0; i < 1000000000; i++) {
				Math.random();
			}
			console.log('finished....loading');
		});
	</script>
	<div>LOADED</div>
</body>
</html>